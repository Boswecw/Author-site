@charset "UTF-8";

/* must be before ANYTHING else (besides @charset)
   Load Inter for UI + Cormorant Garamond 400 Italic for the brand name */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Cormorant+Garamond:ital,wght@1,400&display=swap');

/* Tailwind directives come after @import */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Brand tokens (CSS vars)
   ========================= */
:root {
  /* legacy fire tokens (kept for compatibility) */
  --fire-50:  #fef7f0;
  --fire-600: #dc3b21;
  --fire-700: #b72c16;

  /* neutrals */
  --stone-900: #0b0b0c;
  --brand-charcoal: #2B2B2B;
  --brand-cream:    #F5F2E7;

  /* metals / shared accents */
  --brand-gold:   #C9A86A;
  --brand-bronze: #8C7853;

  /* genre accents */
  --faith-blue:      #2C3E7F;
  --faith-tint:      #E7EDF8;
  --fantasy-crimson: #7A1C1C;
  --fantasy-emerald: #0F5132;
  --fantasy-shadow:  #3C2F2F;
}

/* ---------- BASE ---------- */
@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    color: var(--stone-900);
    background-color: white;
    scroll-behavior: smooth;
  }

  body { line-height: 1.6; }

  *:focus {
    outline: 2px solid var(--faith-blue);
    outline-offset: 2px;
  }

  img { max-width: 100%; height: auto; }

  /* Custom scrollbar (put in base, not components) */
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: #f1f5f9; }
  ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

  /* Optional page theme helpers */
  .theme-faith {
    --link: var(--faith-blue);
    --card-bg: var(--faith-tint);
  }
  .theme-fantasy {
    --link: var(--fantasy-crimson);
    --card-bg: color-mix(in oklab, var(--fantasy-shadow) 6%, white);
  }
} /* <-- closes @layer base */

/* ---------- COMPONENTS ---------- */
@layer components {
  /* === Brand name utility (Cormorant Garamond 400 Italic) === */
  .brand-name {
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;   /* 400 Italic */
    font-weight: 400;
    letter-spacing: 0.02em;
  }

  /* Primary CTA: gold→bronze, hover to crimson/fire */
  .btn-primary {
    @apply text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105 focus:ring-4;
    background: linear-gradient(90deg, var(--brand-gold), var(--brand-bronze));
  }
  .btn-primary:hover {
    background: linear-gradient(90deg, var(--fantasy-crimson), var(--fire-600));
  }
  .btn-primary:focus {
    box-shadow: 0 0 0 4px color-mix(in oklab, var(--brand-gold), white 70%);
  }

  /* Secondary CTA: faith tint w/ blue text */
  .btn-secondary {
    @apply font-semibold py-3 px-6 rounded-lg transition-colors duration-200;
    background-color: var(--faith-tint);
    color: var(--faith-blue);
  }
  .btn-secondary:hover { filter: brightness(0.95); }
  .btn-secondary:focus { @apply focus:ring-4; box-shadow: 0 0 0 4px color-mix(in oklab, var(--faith-blue), white 80%); }

  /* Legacy fire gradient (kept for “heat” use cases) */
  .fire-gradient {
    @apply bg-gradient-to-br;
    background-image: linear-gradient(to bottom right, #7a1c1c, #bc4525, #f0734a);
  }

  .ember-glow {
    box-shadow:
      0 0 20px rgba(201, 168, 106, 0.35),
      0 4px 6px -1px rgba(0, 0, 0, 0.10),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  /* Cards / panels using warm cream */
  .card-warm {
    background-color: var(--brand-cream);
    border: 1px solid color-mix(in oklab, var(--brand-bronze), white 70%);
    @apply rounded-xl;
  }

  /* Blog-ish prose tweaks */
  .prose { @apply leading-relaxed; color: var(--brand-charcoal); }
  .prose h2 { @apply text-2xl font-bold mt-8 mb-4; color: var(--stone-900); }
  .prose h3 { @apply text-xl font-semibold mt-6 mb-3; color: var(--stone-900); }
  .prose p { @apply mb-4; }
  .prose ul { @apply list-disc list-inside mb-4 space-y-2; }
  .prose ol { @apply list-decimal list-inside mb-4 space-y-2; }
  .prose blockquote {
    border-left: 4px solid var(--brand-gold);
    padding-left: 1.5rem;
    font-style: italic;
    color: #4b5563; /* gray-600 */
    @apply my-6;
  }
  .prose code {
    background: color-mix(in oklab, var(--brand-gold), white 85%);
    color: var(--fantasy-shadow);
    @apply px-2 py-1 rounded text-sm;
  }
  .prose pre { @apply bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto my-6; }
  .prose pre code { @apply bg-transparent text-gray-100 p-0; }
  .prose a {
    color: var(--faith-blue);
    text-decoration: underline;
  }
  .theme-fantasy .prose a { color: var(--fantasy-crimson); }

  /* Animations */
  .animate-fade-in { animation: fadeIn 0.6s ease-in-out; }
  .animate-slide-up { animation: slideUp 0.6s ease-out; }

  @keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
  @keyframes slideUp { from { opacity: 0; transform: translateY(30px) } to { opacity: 1; transform: translateY(0) } }

  /* Loading dots */
  .loading-dots::after { content: ''; animation: dots 1.5s infinite; }
  @keyframes dots {
    0%, 20% { content: '' }
    40% { content: '.' }
    60% { content: '..' }
    80%, 100% { content: '...' }
  }

  /* Background pattern */
  .bg-pattern-subtle {
    background-image: radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0);
    background-size: 20px 20px;
  }

  /* Forms */
  .form-input {
    @apply w-full px-4 py-3 border rounded-lg transition-colors duration-200;
    border-color: #e5e7eb; /* gray-300 */
  }
  .form-input:focus {
    outline: none;
    border-color: var(--faith-blue);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--faith-blue), white 75%);
  }
  .form-textarea { @apply min-h-[120px] resize-y; }
  .form-label { @apply block text-sm font-medium text-gray-700 mb-2; }

  /* Badges */
  .badge-success { @apply bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium; }
  .badge-warning { @apply bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium; }
  .badge-info    { background: var(--faith-tint); color: var(--faith-blue); @apply px-2 py-1 rounded-full text-xs font-medium; }
} /* <-- closes @layer components */

/* ---------- UTILITIES ---------- */
@layer utilities {
  /* Prevent weird absolute/transform from external styles; scope to BookCard */
  .bookcard form input,
  .bookcard form button {
    position: static !important;
    inset: auto !important;
    transform: none !important;
  }

  /* Quick helpers */
  .text-gold    { color: var(--brand-gold); }
  .bg-cream     { background-color: var(--brand-cream); }
  .border-gold  { border-color: var(--brand-gold); }
  .link-faith   { color: var(--faith-blue); }
  .link-fantasy { color: var(--fantasy-crimson); }
} /* <-- closes @layer utilities */
